(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710,931,733],{5553:function(e,n,l){Promise.resolve().then(l.bind(l,25)),Promise.resolve().then(l.bind(l,3452)),Promise.resolve().then(l.bind(l,7089)),Promise.resolve().then(l.bind(l,2203)),Promise.resolve().then(l.bind(l,7808))},7808:function(e,n,l){"use strict";l.r(n),l.d(n,{KanjiGroupsViewer:function(){return b}});var i=l(1776),s=l(3452),t=l(5834),r=l(6312),o=l(8431),c=l(3511),h=l(3023),d=l(5180),u=l(3685),a=l(1272),x=l(2296),j=l(3446),m=l(5804),p=l(661),g=l(8297),f=l(4793);function C(e){let{data:n,isSmall:l=!1,hideFurigana:s=!1,showAlternative:t=!1,fontWeight:r}=e,{kanji:o,reading:c}=n,h=r||(l?"normal":"bold");return(0,i.jsxs)(f.m.ruby,{fontSize:l?"lg":"3xl",textAlign:"center",fontFamily:"Minchou, Meiryou",children:[(0,i.jsx)(x.x,{as:"span",fontWeight:h,children:null==o?void 0:o.replace(/[\(\［](.*?)[\］\)]/g,"").split("・")[0]}),!s&&(0,i.jsx)(f.m.rt,{children:c}),t&&/[\(\［](.*?)[\］\)]/.test(null!=o?o:"")&&(0,i.jsx)(x.x,{as:"span",fontWeight:h,children:null==o?void 0:o.substring(1)})]})}let k=e=>{let{data:n}=e,l=(0,p.p)(),{knownKanji:c,setKnownKanji:h,removeKnownKanji:d}=(0,s.useKnownKanji)(),u=(0,m.useMemo)(()=>n.filter(e=>c.includes(e)).join(""),[n,c]),a=(0,m.useMemo)(()=>n.filter(e=>!c.includes(e)).join(""),[n,c]),x=e=>{navigator.clipboard.writeText(e),l({status:"success",title:"Copied"})};return(0,i.jsxs)(t.K,{children:[(0,i.jsxs)(r.U,{children:[(0,i.jsx)(o.z,{size:"sm",onClick:()=>x(u),children:"Copy known"}),0!==a.length&&(0,i.jsx)(o.z,{size:"sm",onClick:()=>x(a),children:"Copy not known"}),(0,i.jsx)(o.z,{colorScheme:"red",size:"sm",onClick:()=>h(n.join("")),children:"Select All"}),(0,i.jsx)(o.z,{colorScheme:"red",size:"sm",onClick:()=>d(n.join("")),children:"Select None"})]}),(0,i.jsx)(r.U,{spacing:2,mb:6,flexWrap:"wrap",children:n.map((e,n)=>{let l=c.includes(e);return(0,i.jsx)(g.xu,{shadow:l?"md":"none",boxSize:12,p:2,onClick:()=>h(e),display:"flex",justifyContent:"center",alignItems:"center",bgColor:l?"white":"gray.200",children:(0,i.jsx)(C,{fontWeight:l?"500":"100",data:{kanji:e}})},e)})})]})},b=e=>{let{groups:n}=e,{knownKanji:l}=(0,s.useKnownKanji)(),p=(0,m.useMemo)(()=>n.map(e=>{let{kanjis:n}=e;return n.filter(e=>l.includes(e))}),[n,l]),[g,f]=(0,m.useState)(n.map((e,n)=>n));return(0,i.jsxs)(t.K,{children:[(0,i.jsxs)(r.U,{children:[(0,i.jsx)(o.z,{onClick:()=>f(n.map((e,n)=>n)),children:"Open All"}),(0,i.jsx)(o.z,{onClick:()=>f(n.map((e,n)=>n).filter(e=>p[e].length!==n[e].kanjis.length)),children:"Close Completed"})]}),(0,i.jsx)(c.U,{allowMultiple:!0,reduceMotion:!0,index:g,onChange:e=>f(e),children:n.map((e,n)=>{let{title:l,kanjis:s}=e,t=p[n],o=t.length===s.length,c=t.length/s.length*100;return(0,i.jsxs)(h.Q,{defaultChecked:!o,children:[(0,i.jsx)(d.K,{children:(0,i.jsxs)(r.U,{children:[(0,i.jsx)(u.X,{children:l}),(0,i.jsx)(a.E,{value:c}),(0,i.jsx)(r.U,{children:(0,i.jsxs)(x.x,{children:[t.length,"/",s.length," (",Math.round(c),"%) known"]})})]})}),(0,i.jsx)(j.H,{children:(0,i.jsx)(k,{data:s})})]},n)})})]})}}},function(e){e.O(0,[478,919,68,955,407,437,744],function(){return e(e.s=5553)}),_N_E=e.O()}]);